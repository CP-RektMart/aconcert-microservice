//go:generate protoc --go_out=. --go-grpc_out=. ./services/event/proto/event/event.proto
 
syntax = "proto3";

package event;

option go_package = "proto/event;event";

// Event message
message Event {
  string id = 1;
  string created_at = 2;
  string updated_at = 3;
  string deleted_at = 4;

  string name = 5;
  string description = 6;
  string location_id = 7;
  repeated string artist = 8;
  string event_date = 9;
  string thumbnail = 10;
  repeated string images = 11;
}

// CreateEvent
message CreateEventRequest {
  string name = 1;
  string description = 2;
  string location_id = 3;
  repeated string artist = 4;
  string event_date = 5;
  string thumbnail = 6;
  repeated string images = 7;
}

message CreateEventResponse {
  string id = 1;
}

// GetEvent
message GetEventRequest {
  string id = 1;
}

message GetEventResponse {
  Event event = 1;
}

// UpdateEvent
message UpdateEventRequest {
  string id = 1;
  optional string name = 2;
  optional string description = 3;
  optional string location_id = 4;
  repeated string artist = 5;
  optional string event_date = 6;
  optional string thumbnail = 7;
  repeated string images = 8;
}

message UpdateEventResponse {
  string id = 1;
}

// DeleteEvent
message DeleteEventRequest {
  string id = 1;
}

message DeleteEventResponse {
  // Empty response - no fields needed
  string id = 1;
}
message Pagination {
  int32 total = 1;
  int32 count = 2;
  int32 page = 3;
  int32 limit = 4;
  int32 total_pages = 5;
}

// ListEvents request with sorting, ordering, and pagination
message ListEventsRequest {
  optional string query = 1;        // search keyword
  optional string sort_by = 2;      // field to sort by (e.g., "name", "event_date")
  optional string order = 3;        // "asc" or "desc"
  optional int32 limit = 4;         // number of items per page
  optional int32 page = 5;          // page number
}

message ListEventsResponse {
  repeated Event events = 1;
  Pagination pagination = 2;
}

// EventService definition
service EventService {
  rpc CreateEvent(CreateEventRequest) returns (CreateEventResponse);
  rpc GetEvent(GetEventRequest) returns (GetEventResponse);
  rpc UpdateEvent(UpdateEventRequest) returns (UpdateEventResponse);
  rpc DeleteEvent(DeleteEventRequest) returns (DeleteEventResponse);
  rpc ListEvents(ListEventsRequest) returns (ListEventsResponse);
}
